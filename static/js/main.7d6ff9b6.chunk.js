(this.webpackJsonppoker=this.webpackJsonppoker||[]).push([[0],{30:function(e,t,n){},31:function(e,t,n){},32:function(e,t,n){},33:function(e,t,n){},36:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n.n(a),i=n(24),c=n.n(i),s=(n(30),n(31),n(4)),u=n(1),o=n(3),h=(n(32),n(22)),l=n(16),f=n(15),p=n(19),j=n(20),d=n(9),v=n(10),b=(n(33),n(0));function m(e){var t=e.card;if(!(t instanceof O))throw new Error("not passed a Card object");var n=function(e){var t=e.value,n=e.suit,a=x[n],r="card card-".concat(n);return{suitSymbol:a,cardValue:t.length<3?t:t[0],className:r}}(t),a=n.suitSymbol,r=n.cardValue,i=n.className;return Object(b.jsxs)("div",{className:i,children:[a,Object(b.jsx)("br",{}),r]})}var O=Object(v.a)((function e(t,n){Object(d.a)(this,e),this.value=t,this.suit=n,this.name="".concat(t," of ").concat(n)})),g=["Spades","Diamonds","Clubs","Hearts"],y=["Ace","2","3","4","5","6","7","8","9","10","Jack","Queen","King"],k={Ace:13,2:1,3:2,4:3,5:4,6:5,7:6,8:7,9:8,10:9,Jack:10,Queen:11,King:12},x={Spades:"\u2660",Diamonds:"\u2666",Clubs:"\u2663",Hearts:"\u2665"},E=["straight flush","wheel flush","four of a kind","full house","flush","straight","three of a kind","two pair","one pair","high card"],w=[{name:"Alex Trebek",url:"/images/alexTrebek.jpg"},{name:'Buddy "The Elf"',url:"/images/buddyTheElf.jpg"},{name:"Brennan Huff",url:"/images/brennanHuff.jpg"},{name:"Chazz Michael Michaels",url:"/images/chazzMichaelMichaels.jpg"},{name:"Chad Smith",url:"/images/chadSmith.jpg"},{name:"Detective Allen Gamble",url:"/images/detectiveAllenGamble.jpeg"},{name:'Frank "The Tank" Richard',url:"/images/frankTheTank.jpg"},{name:"Gator",url:"/images/gator.jpg"},{name:"Harold Crick",url:"/images/haroldCrick.jpg"},{name:"Jackie Moon",url:"/images/jackieMoon.jpg"},{name:"Jacobim Mugatu",url:"/images/jacobimMugatu.jpg"},{name:"Janet Reno",url:"/images/janetReno.jpg"},{name:"Lars Erickssong",url:"/images/larsErickssong.jpg"},{name:"Mustafa",url:"/images/mustafa.jpg"},{name:"Ricky Bobby",url:"/images/rickyBobby.jpg"},{name:"Ron Burgundy",url:"/images/ronBurgundy.jpeg"}],T=function(){function e(t,n){Object(d.a)(this,e),this.name=n.name,this.imgUrl=n.url,this.wallet=5e3,this.hand=new S,this.position=t,this.isUser=!1}return Object(v.a)(e,[{key:"bestHand",value:function(e){if(void 0===this.hand.pocket)throw new Error("Player not dealt");var t=this.hand.pocket,n=[].concat(Object(s.a)(t),Object(s.a)(e)),a=this.sortThese(n),r=this.iterator(a);r.forEach((function(e){return e.evaluate()})),r.sort(C);var i=r.shift();this.hand=Object(u.a)(Object(u.a)({},i),{},{pocket:t}),this.hand.pocket=t}},{key:"sortThese",value:function(e){return e.sort(this.cardSort)}},{key:"cardSort",value:function(e,t){var n=k[t.value]-k[e.value],a=g.indexOf(t.suit)-g.indexOf(e.suit);return n||a}},{key:"iterator",value:function(e){for(var t=[],n=0;n<e.length;n++)for(var a=0;a<e.length;a++)if(!(n>=a)){var r=e.slice();r.splice(a,1),r.splice(n,1),t.push(new S(r))}return t}}]),e}(),A=function(e){Object(p.a)(n,e);var t=Object(j.a)(n);function n(e,a){var r;return Object(d.a)(this,n),(r=t.call(this,e,a)).isUser=!0,r}return Object(v.a)(n)}(T);function M(e){for(var t=function(){for(var e=[],t=0;t<g.length;t++)for(var n=0;n<y.length;n++)e.push(new O(y[n],g[t]));return Object(l.a)(L,e).shuffle()}(),n=Object(u.a)({},e),a=n.players.map((function(e){return[]})),r=0;r<2;r++)a.forEach((function(e){return e.push(t.pop())}));return n.players.forEach((function(e,t){e.hand.pocket=a[t]})),Object(u.a)(Object(u.a)({},n),{},{deck:t})}function R(e,t){var n=Object(u.a)({},e),a=Object(s.a)(n.deck),r=[a.pop()],i=Object(u.a)(Object(u.a)({},n.community),{},Object(f.a)({},t,r));return Object(u.a)(Object(u.a)({},n),{},{deck:a,community:i})}function N(e,t){return C(e.hand,t.hand)}function C(e,t){var n=E.indexOf(e.hand)-E.indexOf(t.hand);if(0!==n)return n;for(var a=0,r=0;r<4&&0===a;)a=k[t[0][r].value]-k[e[0][r].value],r++;return a}var L=function(e){Object(p.a)(n,e);var t=Object(j.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(v.a)(n,[{key:"shuffle",value:function(){return this.washFiveTimes().cut().riffle().box().washFiveTimes().cut().riffle(),this}},{key:"wash",value:function(){for(var e=[],t=[];this.length>0;)e.push(this.pop());for(;e.length>0;){var n=Math.floor(Math.random()*e.length);t.push(e.splice(n,1)[0])}for(;t.length>0;)this.push(t.pop());return this}},{key:"washFiveTimes",value:function(){for(var e=0;e<5;e++)this.wash();return this}},{key:"cut",value:function(){for(var e,t=this.length/2-2+(e=5,Math.floor(Math.random()*e)),n=0;n<t;n++)this.push(this.shift());if(this.length>52||this.length<52)throw new Error("cut ".concat(this.length));return this}},{key:"riffle",value:function(){for(var e=this.split(),t=Object(o.a)(e,2),n=t[0],a=t[1];this.length<52;)this.riffler(n),this.riffler(a);if(this.length>52||this.length<52)throw new Error("riffle ".concat(this.length));return this}},{key:"split",value:function(){for(var e=24+Math.floor(5*Math.random()),t=[],n=0;n<e;n++)t.push(this.shift());for(var a=[];this.length>0;)a.push(this.pop());return[t,a]}},{key:"riffler",value:function(e){if(e.length>0){this.push(e.pop());var t=Math.random();t>.9&&e.length>1?(this.push(e.pop()),this.push(e.pop())):t>.75&&e.length>0&&this.push(e.pop())}}},{key:"box",value:function(){for(var e=this,t=[];e.length>0;){var n=e.length,a=Math.floor(7*Math.random())+10;n<a&&(a=n);for(var r=e.length-a,i=0;i<a;i++)t.push(e.splice(r,1)[0])}for(;t.length>0;)e.push(t.shift());if(this.length>52||this.length<52)throw new Error("box ".concat(this.length));return this}}]),n}(Object(h.a)(Array)),S=function(e){Object(p.a)(n,e);var t=Object(j.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(v.a)(n,[{key:"evaluate",value:function(){var e=this.straightWheelFlush();if(e)this.hand=e;else{var t=this.tupler();if(!t)throw new Error("Evaluator failed: ".concat(this));this.hand=t}}},{key:"straightWheelFlush",value:function(){var e,t=this[0],n=t.every(this.flush),a=t.map(this.straight),r=a.every((function(e){return e}));return e=!r&&this.wheel(a),n?r?"straight flush":e?"wheel flush":"flush":r?"straight":!!e&&"wheel"}},{key:"flush",value:function(e,t,n){return!(t<=n.length-2)||e.suit===n[t+1].suit}},{key:"straight",value:function(e,t,n){if(t>n.length-2)return!0;var a=k[e.value],r=n[t+1];return a===k[r.value]+1}},{key:"wheel",value:function(e){var t=this[0];return!("A"!==t[0].value||"5"!==t[1].value||(e.shift(),!e.every((function(e){return e}))))&&(t.push(t.shift()),!0)}},{key:"tupler",value:function(){var e=this[0],t=e.map(this.confirmTuple);t.pop();var n=t.indexOf(!0);if(n<0)return"high card";var a=t.filter((function(e){return!0===e})).length;if(1===a){var r=e.splice(n,2);return e.unshift(r[1]),e.unshift(r[0]),"one pair"}var i=t.slice();i.reverse();var c=i.indexOf(!0),s=Math.abs(c-3);return 3===a?t[0]&&t[3]?(t[2]&&(e.push(e.shift()),e.push(e.shift())),"full house"):(t[3]&&e.push(e.shift()),"four of a kind"):2===a?this.threeOrTwo(t,n,s):"Error!"}},{key:"confirmTuple",value:function(e,t,n){var a=n.length-1,r=n[t+1];return t<a&&e.value===r.value}},{key:"threeOrTwo",value:function(e,t,n){var a=this[0];if(this.three(e)){var r=e.indexOf(!0);if(2===r)a.push(a.shift()),a.push(a.shift());else if(1===r){var i=a.shift();a.splice(3,0,i)}return"three of a kind"}var c=a.splice(t,2),s=a.splice(n-2,2);return a.unshift(s[1]),a.unshift(s[0]),a.unshift(c[1]),a.unshift(c[0]),"two pair"}},{key:"three",value:function(e){var t=e.indexOf(!0);return e[t]===e[t+1]?"three of a kind":null}}]),n}(Object(h.a)(Array));function _(e,t){var n=t.payload.buttonSetter,a={buttonSetter:n};switch(t.type){case"GET_PLAYERS":var r=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,t=[],n=Math.floor(Math.random()*e),a=function(){var e=Math.floor(Math.random()*w.length);return w[e]},r=function(e,t){return new(e===n?A:T)(e,t)},i=0;i<e;i++){for(var c=void 0,s=function(){var e=a();t.every((function(t){return t.name!==e.name}))&&(c=r(i,e))};!c;)s();t.push(c)}return[t,t[n].name]}(),i=Object(o.a)(r,2),c=i[0],h=i[1];return n({type:"DEAL_POCKET",payload:a}),{players:c,user:h};case"DEAL_POCKET":var l=M(e);return n({type:"DEAL_FLOP",payload:a}),l;case"DEAL_FLOP":var f=function(e){for(var t=Object(u.a)({},e),n=Object(s.a)(t.deck),a=[],r=0;r<3;r++)a.push(n.pop());return Object(u.a)(Object(u.a)({},t),{},{deck:n,community:{flop:a}})}(e);return n({type:"DEAL_TURN",payload:a}),f;case"DEAL_TURN":var p=R(e,"turn");return n({type:"DEAL_RIVER",payload:a}),p;case"DEAL_RIVER":var j=R(e,"river");return n({type:"EVALUATE_GAME",payload:a}),j;case"EVALUATE_GAME":var d=function(e){var t=Object(u.a)({},e),n=t.community,a=n.flop,r=n.turn,i=n.river,c=[].concat(Object(s.a)(a),Object(s.a)(r),Object(s.a)(i));t.players.forEach((function(e){return e.bestHand(c)}));var o=Object(s.a)(t.players).sort(N).map((function(e){return{name:e.name,cards:e.hand[0].map((function(e){return e.name})),hand:e.hand.hand}}));return Object(u.a)(Object(u.a)({},t),{},{roundRank:o})}(e);return n({type:"NEXT_ROUND",payload:a}),d;case"NEXT_ROUND":var v=function(e){var t=Object(u.a)({},e),n=t.roundRank[0];return t.records?t.records=[].concat(Object(s.a)(t.records),[n]):t.records=[n],["deck","community","roundRank"].forEach((function(e){delete t[e]})),t.players.forEach((function(e){e.hand=new S})),console.log(t),t}(e);return n({type:"DEAL_POCKET",payload:a}),v;default:return e}}var D=n(39),F=n(38),U=n(40),P=n(37);function B(e){var t=e.imgUrl,n=e.userClass;return Object(b.jsx)("div",{xs:"auto",className:"avatar ".concat(n),style:{backgroundImage:"url(".concat("/poker").concat(t,")")}})}function G(e){var t=e.imgUrl,n=e.name,a=e.hand,r={userClass:"avatar-"+(e.isUser?"user":"opponent"),imgUrl:t};return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(P.a,{className:"align-self-start",children:Object(b.jsxs)(F.a,{children:[Object(b.jsx)(B,Object(u.a)({},r)),Object(b.jsx)(P.a,{children:Object(b.jsx)(F.a,{xs:2,children:a.pocket&&a.pocket.map((function(e,t){return Object(b.jsx)(m,{card:e},t)}))})})]})}),Object(b.jsx)(P.a,{xs:"auto",className:"align-self-end",children:Object(b.jsx)("h5",{children:n})})]})}function H(e){var t=e.players;if(!t)return null;function n(){return null===t||void 0===t?void 0:t.map((function(e,t){return Object(b.jsx)("div",{children:Object(b.jsx)(F.a,{className:"align-items-center justify-content-between",children:Object(b.jsx)(G,Object(u.a)({},e))})},t)}))}return Object(b.jsx)(D.a,{style:{padding:"15px"},className:"player-panel",children:Object(b.jsx)(n,{})})}function J(e){return Object(b.jsx)("div",{children:Object(b.jsx)("p",{children:V(e)})})}function V(e){var t=e.players,n=e.community,a=e.roundRank,r=e.records,i=e.user,c="Click the button below to play Ferrel Poker!";if(t&&!r&&(c="".concat(i,", click the button below to be dealt in.")),t&&n&&!a){var s=t.find((function(e){return e.name===i})),u=Object(o.a)(s.hand.pocket,2),h=u[0],l=u[1];c="Hopefully ".concat(h.name," and ").concat(l.name," will be enough to win, ").concat(i,"...")}if(a){var f=a[0].name,p=a[0].hand;c=f===i?"Congratulations ".concat(i,"! You won with ").concat(p,"!"):"Better luck next time... ".concat(f," won with ").concat(p,".")}return c}function I(e){var t=e.community;if(!t)return null;var n=t.flop,a=t.turn,r=t.river,i=[];return[n,a,r].forEach((function(e){e&&(i=[].concat(Object(s.a)(i),Object(s.a)(e)))})),Object(b.jsx)(P.a,{className:"align-items-center",children:Object(b.jsx)(F.a,{className:"community",xs:5,children:i.map((function(e,t){return Object(b.jsx)(m,{card:e},t)}))})})}var K=function(){var e=Object(a.useReducer)(_,{}),t=Object(o.a)(e,2),n=t[0],r=t[1],i=Object(a.useState)({type:"GET_PLAYERS"}),c=Object(o.a)(i,2),s=c[0],h=c[1],l=Object(u.a)(Object(u.a)({},s),{},{payload:{buttonSetter:h}});return Object(b.jsxs)(D.a,{className:"Game",children:[Object(b.jsx)(J,Object(u.a)({},n)),Object(b.jsx)(I,Object(u.a)({},n)),Object(b.jsxs)(D.a,{children:[Object(b.jsx)(F.a,{children:Object(b.jsx)(H,Object(u.a)({},n))}),Object(b.jsx)(U.a,{onClick:function(){return r(l)},children:l.type.replace("_"," ")})]})]})};var z=function(){return Object(b.jsxs)("div",{className:"App",children:[Object(b.jsx)("div",{className:"App-header",style:{background:"black",padding:"10px",top:"0px",position:"sticky"},children:Object(b.jsx)("h1",{style:{color:"white"},children:"\u2660 - - Poker Time - - \u2660"})}),Object(b.jsx)(K,{})]})},Y=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,41)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,i=t.getLCP,c=t.getTTFB;n(e),a(e),r(e),i(e),c(e)}))};n(35);c.a.render(Object(b.jsx)(r.a.StrictMode,{children:Object(b.jsx)(z,{})}),document.getElementById("root")),Y()}},[[36,1,2]]]);
//# sourceMappingURL=main.7d6ff9b6.chunk.js.map